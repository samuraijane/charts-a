"use strict";var angular=require("angular"),route=require("angular-route"),app=angular.module("app",[route,"d3","britecharts"]);require("./app.config.js")(app),require("./home")(app),angular.module("app").config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{controller:"homeCtrl",controllerAs:"vm",templateUrl:"./src/app/home/home.html"}).otherwise({redirectTo:"/"}),t.html5Mode(!0)}]),(angular=require("angular")).module("britecharts",[]).factory("britechartsService",["$document","$q","$rootscope",function(e,t,r){function n(){$rootScope.$apply(function(){a.resolve(window.britecharts)})}var a=t.defer,o=e[0].createElement("script");return o.type="text/javascript",o.async=!0,o.src="/node_modules/britecharts/dist/bundled/britecharts.min.js",o.onreadystatechange=function(){"complete"==this.readyState&&n()},o.onload=n,e[0].getElementsByTagName("body")[0].appendChild(o),{britecharts:function(){return a.promise}}}]);var angular=require("angular"),d3Import=require("d3");angular.module("d3",[]).factory("d3Service",["$document","$q","$rootscope",function(e,t,r){function n(){$rootScope.$apply(function(){a.resolve(window.d3)})}var a=t.defer,o=e[0].createElement("script");return o.type="text/javascript",o.async=!0,o.src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.5.0/d3.min.js",o.onreadystatechange=function(){"complete"==this.readyState&&n()},o.onload=n,e[0].getElementsByTagName("body")[0].appendChild(o),{d3:function(){return a.promise}}}]),angular.module("app").service("dataSrv",["$http",function(e){return{getDog:function(){return e({method:"GET",url:"https://dog.ceo/api/breeds/image/random"})}}}]),angular.module("app").controller("homeCtrl",[function(){}]),module.exports=function(e){e.directive("blogBarChart",["d3Service","britechartsService",function(e,t){return{restrict:"EA",scope:{},link:function(r,n,a){e.d3().then(function(e){}).then(t.britecharts).then(function(e){var t={blue:"#5fa6e1",gold:"#e7b12e",green:"#3ba144",orange:"#fa8232",purple:"#421f79"},r=[{name:"Line of Credit",id:1,quantity:7,value:2300},{name:"Checking",id:2,quantity:15,value:6900},{name:"CD",id:3,quantity:10,value:300},{name:"Loans",id:4,quantity:5,value:22e3},{name:"Savings",id:5,quantity:8,value:300}];!function(){var n=new e.bar,a={left:120,right:20,top:20,bottom:30},o=d3.select(".js-bar-container"),i=!!o.node()&&o.node().getBoundingClientRect().width;n.isHorizontal(!0).margin(a).width(i).colorSchema([t.orange,t.purple,t.blue,t.green,t.gold]).valueLabel("quantity").xTicks(4).height(300),o.datum(r).call(n)}(),function(){var n=e.donut();n.width(400).height(300).colorSchema([t.orange,t.purple,t.blue,t.green,t.gold]).isAnimated(!0).highlightSliceById(3).on("customMouseOver",function(e){}).on("customMouseOut",function(){}).internalRadius(70),d3.select(".js-donut-container").datum(r).call(n)}()})}}}])};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJhcHAuY29uZmlnLmpzIiwiY29tbW9uL2JyaXRlY2hhcnRzLmpzIiwiY29tbW9uL2QzLmpzIiwic2VydmljZXMvZGF0YVNydi5qcyIsImhvbWUvY29udHJvbGxlci5qcyIsImhvbWUvZGlyZWN0aXZlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJyZXF1aXJlIiwicm91dGUiLCJhcHAiLCJtb2R1bGUiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwid2hlbiIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZVVybCIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJodG1sNU1vZGUiLCJmYWN0b3J5IiwiJGRvY3VtZW50IiwiJHEiLCIkcm9vdHNjb3BlIiwib25TY3JpcHRMb2FkIiwiJHJvb3RTY29wZSIsIiRhcHBseSIsImQiLCJyZXNvbHZlIiwid2luZG93IiwiYnJpdGVjaGFydHMiLCJkZWZlciIsInNjcmlwdFRhZyIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiYXN5bmMiLCJzcmMiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJ0aGlzIiwicmVhZHlTdGF0ZSIsIm9ubG9hZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYXBwZW5kQ2hpbGQiLCJwcm9taXNlIiwiZDNJbXBvcnQiLCJkMyIsInNlcnZpY2UiLCIkaHR0cCIsImdldERvZyIsIm1ldGhvZCIsInVybCIsImV4cG9ydHMiLCJkaXJlY3RpdmUiLCJkM1NlcnZpY2UiLCJicml0ZWNoYXJ0c1NlcnZpY2UiLCJyZXN0cmljdCIsInNjb3BlIiwibGluayIsImVsZW1lbnQiLCJhdHRycyIsInRoZW4iLCJjb2xvcnMiLCJibHVlIiwiZ29sZCIsImdyZWVuIiwib3JhbmdlIiwicHVycGxlIiwiZGF0YSIsIm5hbWUiLCJpZCIsInF1YW50aXR5IiwidmFsdWUiLCJiYXJDaGFydCIsImJhciIsIm1hcmdpbiIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsImJhckNvbnRhaW5lciIsInNlbGVjdCIsImNvbnRhaW5lcldpZHRoIiwibm9kZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpZHRoIiwiaXNIb3Jpem9udGFsIiwiY29sb3JTY2hlbWEiLCJ2YWx1ZUxhYmVsIiwieFRpY2tzIiwiaGVpZ2h0IiwiZGF0dW0iLCJjYWxsIiwiY3JlYXRlSG9yaXpvbnRhbEJhckNoYXJ0IiwiZG9udXRDaGFydCIsImRvbnV0IiwiaXNBbmltYXRlZCIsImhpZ2hsaWdodFNsaWNlQnlJZCIsIm9uIiwiaW50ZXJuYWxSYWRpdXMiLCJjcmVhdGVEb251dENoYXJ0Il0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBLElBQUFBLFFBQUFDLFFBQUEsV0FDQUMsTUFBQUQsUUFBQSxpQkFFQUUsSUFBQUgsUUFBQUksT0FBQSxPQUFBRixNQUFBLEtBQUEsZ0JBRUFELFFBQUEsa0JBQUFBLENBQUFFLEtBQ0FGLFFBQUEsU0FBQUEsQ0FBQUUsS0NOQUgsUUFBQUksT0FBQSxPQUFBQyxRQUFBLGlCQUFBLG9CQUFBLFNBQUFDLEVBQUFDLEdBQ0FELEVBQUFFLEtBQUEsS0FDQUMsV0FBQSxXQUNBQyxhQUFBLEtBQ0FDLFlBQUEsNkJBQ0FDLFdBQUFDLFdBQUEsTUFDQU4sRUFBQU8sV0FBQSxPQ05BZCxRQUFBQyxRQUFBLFlBRUFHLE9BQUEsa0JBQUFXLFFBQUEsc0JBQUEsWUFBQSxLQUFBLGFBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FFQSxTQUFBQyxJQUNBQyxXQUFBQyxPQUFBLFdBQ0FDLEVBQUFDLFFBQUFDLE9BQUFDLGVBSEEsSUFBQUgsRUFBQUwsRUFBQVMsTUFNQUMsRUFBQVgsRUFBQSxHQUFBWSxjQUFBLFVBVUEsT0FUQUQsRUFBQUUsS0FBQSxrQkFDQUYsRUFBQUcsT0FBQSxFQUNBSCxFQUFBSSxJQUFBLDREQUNBSixFQUFBSyxtQkFBQSxXQUNBLFlBQUFDLEtBQUFDLFlBQUFmLEtBRUFRLEVBQUFRLE9BQUFoQixFQUNBSCxFQUFBLEdBQUFvQixxQkFBQSxRQUFBLEdBQ0FDLFlBQUFWLElBRUFGLFlBQUEsV0FDQSxPQUFBSCxFQUFBZ0IsYUNyQkEsSUFBQXRDLFFBQUFDLFFBQUEsV0FDQXNDLFNBQUF0QyxRQUFBLE1BRUFELFFBQUFJLE9BQUEsU0FBQVcsUUFBQSxhQUFBLFlBQUEsS0FBQSxhQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBRUEsU0FBQUMsSUFDQUMsV0FBQUMsT0FBQSxXQUNBQyxFQUFBQyxRQUFBQyxPQUFBZ0IsTUFIQSxJQUFBbEIsRUFBQUwsRUFBQVMsTUFNQUMsRUFBQVgsRUFBQSxHQUFBWSxjQUFBLFVBVUEsT0FUQUQsRUFBQUUsS0FBQSxrQkFDQUYsRUFBQUcsT0FBQSxFQUNBSCxFQUFBSSxJQUFBLDREQUNBSixFQUFBSyxtQkFBQSxXQUNBLFlBQUFDLEtBQUFDLFlBQUFmLEtBRUFRLEVBQUFRLE9BQUFoQixFQUNBSCxFQUFBLEdBQUFvQixxQkFBQSxRQUFBLEdBQ0FDLFlBQUFWLElBRUFhLEdBQUEsV0FDQSxPQUFBbEIsRUFBQWdCLGFDdEJBdEMsUUFBQUksT0FBQSxPQUFBcUMsUUFBQSxXQUFBLFFBQUEsU0FBQUMsR0FDQSxPQUNBQyxPQUFBLFdBRUEsT0FBQUQsR0FDQUUsT0FBQSxNQUNBQyxJQUFBLGlEQ05BN0MsUUFBQUksT0FBQSxPQUFBSyxXQUFBLFlBQUEsZUNBQUwsT0FBQTBDLFFBQUEsU0FBQTNDLEdBQ0FBLEVBQUE0QyxVQUFBLGdCQUFBLFlBQUEscUJBQUEsU0FBQUMsRUFBQUMsR0FDQSxPQUNBQyxTQUFBLEtBQ0FDLFNBQ0FDLEtBQUEsU0FBQUQsRUFBQUUsRUFBQUMsR0FDQU4sRUFBQVIsS0FBQWUsS0FBQSxTQUFBZixNQUFBZSxLQUFBTixFQUFBeEIsYUFBQThCLEtBQUEsU0FBQTlCLEdBRUEsSUFBQStCLEdBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxNQUFBLFVBQ0FDLE9BQUEsVUFDQUMsT0FBQSxXQUdBQyxJQUNBQyxLQUFBLGlCQUNBQyxHQUFBLEVBQ0FDLFNBQUEsRUFDQUMsTUFBQSxPQUVBSCxLQUFBLFdBQ0FDLEdBQUEsRUFDQUMsU0FBQSxHQUNBQyxNQUFBLE9BRUFILEtBQUEsS0FDQUMsR0FBQSxFQUNBQyxTQUFBLEdBQ0FDLE1BQUEsTUFFQUgsS0FBQSxRQUNBQyxHQUFBLEVBQ0FDLFNBQUEsRUFDQUMsTUFBQSxPQUVBSCxLQUFBLFVBQ0FDLEdBQUEsRUFDQUMsU0FBQSxFQUNBQyxNQUFBLE9BR0EsV0FDQSxJQUFBQyxFQUFBLElBQUExQyxFQUFBMkMsSUFDQUMsR0FDQUMsS0FBQSxJQUNBQyxNQUFBLEdBQ0FDLElBQUEsR0FDQUMsT0FBQSxJQUVBQyxFQUFBbEMsR0FBQW1DLE9BQUEscUJBQ0FDLElBQUFGLEVBQUFHLFFBQUFILEVBQUFHLE9BQUFDLHdCQUFBQyxNQUVBWixFQUFBYSxjQUFBLEdBQUFYLE9BQUFBLEdBQUFVLE1BQUFILEdBQUFLLGFBQUF6QixFQUFBSSxPQUFBSixFQUFBSyxPQUFBTCxFQUFBQyxLQUFBRCxFQUFBRyxNQUFBSCxFQUFBRSxPQUFBd0IsV0FBQSxZQUFBQyxPQUFBLEdBQUFDLE9BQUEsS0FFQVYsRUFBQVcsTUFBQXZCLEdBQUF3QixLQUFBbkIsR0FnQkFvQixHQWJBLFdBQ0EsSUFBQUMsRUFBQS9ELEVBQUFnRSxRQUdBRCxFQUFBVCxNQUFBLEtBQUFLLE9BQUEsS0FBQUgsYUFBQXpCLEVBQUFJLE9BQUFKLEVBQUFLLE9BQUFMLEVBQUFDLEtBQUFELEVBQUFHLE1BQUFILEVBQUFFLE9BQUFnQyxZQUFBLEdBQUFDLG1CQUFBLEdBQUFDLEdBQUEsa0JBQUEsU0FBQTlCLE1BRUE4QixHQUFBLGlCQUFBLGNBRUFDLGVBQUEsSUFFQXJELEdBQUFtQyxPQUFBLHVCQUFBVSxNQUFBdkIsR0FBQXdCLEtBQUFFLEdBSUFNIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBhbmd1bGFyID0gcmVxdWlyZSgnYW5ndWxhcicpOyAvL2MwMjdcbnZhciByb3V0ZSA9IHJlcXVpcmUoJ2FuZ3VsYXItcm91dGUnKTtcblxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbcm91dGUsICdkMycsICdicml0ZWNoYXJ0cyddKTtcblxucmVxdWlyZSgnLi9hcHAuY29uZmlnLmpzJykoYXBwKTtcbnJlcXVpcmUoJy4vaG9tZScpKGFwcCk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYXBwJykuY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cdCRyb3V0ZVByb3ZpZGVyLndoZW4oJy8nLCB7XG5cdFx0Y29udHJvbGxlcjogJ2hvbWVDdHJsJyxcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0dGVtcGxhdGVVcmw6ICcuL3NyYy9hcHAvaG9tZS9ob21lLmh0bWwnXG5cdH0pLm90aGVyd2lzZSh7IHJlZGlyZWN0VG86ICcvJyB9KTtcblx0JGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpOyAvL2MwMjlcbn1dKTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbmd1bGFyID0gcmVxdWlyZSgnYW5ndWxhcicpO1xuXG5hbmd1bGFyLm1vZHVsZSgnYnJpdGVjaGFydHMnLCBbXSkuZmFjdG9yeSgnYnJpdGVjaGFydHNTZXJ2aWNlJywgWyckZG9jdW1lbnQnLCAnJHEnLCAnJHJvb3RzY29wZScsIGZ1bmN0aW9uICgkZG9jdW1lbnQsICRxLCAkcm9vdHNjb3BlKSB7XG4gIHZhciBkID0gJHEuZGVmZXI7XG4gIGZ1bmN0aW9uIG9uU2NyaXB0TG9hZCgpIHtcbiAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICBkLnJlc29sdmUod2luZG93LmJyaXRlY2hhcnRzKTtcbiAgICB9KTtcbiAgfVxuICB2YXIgc2NyaXB0VGFnID0gJGRvY3VtZW50WzBdLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHRUYWcudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuICBzY3JpcHRUYWcuYXN5bmMgPSB0cnVlO1xuICBzY3JpcHRUYWcuc3JjID0gJy9ub2RlX21vZHVsZXMvYnJpdGVjaGFydHMvZGlzdC9idW5kbGVkL2JyaXRlY2hhcnRzLm1pbi5qcyc7XG4gIHNjcmlwdFRhZy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSAnY29tcGxldGUnKSBvblNjcmlwdExvYWQoKTtcbiAgfTtcbiAgc2NyaXB0VGFnLm9ubG9hZCA9IG9uU2NyaXB0TG9hZDtcbiAgdmFyIHMgPSAkZG9jdW1lbnRbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXTtcbiAgcy5hcHBlbmRDaGlsZChzY3JpcHRUYWcpO1xuICByZXR1cm4ge1xuICAgIGJyaXRlY2hhcnRzOiBmdW5jdGlvbiBicml0ZWNoYXJ0cygpIHtcbiAgICAgIHJldHVybiBkLnByb21pc2U7XG4gICAgfVxuICB9O1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFuZ3VsYXIgPSByZXF1aXJlKCdhbmd1bGFyJyk7XG52YXIgZDNJbXBvcnQgPSByZXF1aXJlKCdkMycpO1xuXG5hbmd1bGFyLm1vZHVsZSgnZDMnLCBbXSkuZmFjdG9yeSgnZDNTZXJ2aWNlJywgWyckZG9jdW1lbnQnLCAnJHEnLCAnJHJvb3RzY29wZScsIGZ1bmN0aW9uICgkZG9jdW1lbnQsICRxLCAkcm9vdHNjb3BlKSB7XG4gIHZhciBkID0gJHEuZGVmZXI7XG4gIGZ1bmN0aW9uIG9uU2NyaXB0TG9hZCgpIHtcbiAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICBkLnJlc29sdmUod2luZG93LmQzKTtcbiAgICB9KTtcbiAgfVxuICB2YXIgc2NyaXB0VGFnID0gJGRvY3VtZW50WzBdLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHRUYWcudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuICBzY3JpcHRUYWcuYXN5bmMgPSB0cnVlO1xuICBzY3JpcHRUYWcuc3JjID0gJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2QzLzQuNS4wL2QzLm1pbi5qcyc7XG4gIHNjcmlwdFRhZy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSAnY29tcGxldGUnKSBvblNjcmlwdExvYWQoKTtcbiAgfTtcbiAgc2NyaXB0VGFnLm9ubG9hZCA9IG9uU2NyaXB0TG9hZDtcbiAgdmFyIHMgPSAkZG9jdW1lbnRbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXTtcbiAgcy5hcHBlbmRDaGlsZChzY3JpcHRUYWcpO1xuICByZXR1cm4ge1xuICAgIGQzOiBmdW5jdGlvbiBkMygpIHtcbiAgICAgIHJldHVybiBkLnByb21pc2U7XG4gICAgfVxuICB9O1xufV0pOyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpLnNlcnZpY2UoJ2RhdGFTcnYnLCBbJyRodHRwJywgZnVuY3Rpb24gKCRodHRwKSB7XG4gIHJldHVybiB7XG4gICAgZ2V0RG9nOiBmdW5jdGlvbiBnZXREb2coKSB7XG4gICAgICAvL2MwMzFcbiAgICAgIHJldHVybiAkaHR0cCh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogJ2h0dHBzOi8vZG9nLmNlby9hcGkvYnJlZWRzL2ltYWdlL3JhbmRvbSdcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdob21lQ3RybCcsIFtmdW5jdGlvbiAoKSB7XG4gIHZhciB2bSA9IHRoaXM7XG5cbiAgLy8gbGV0IGNvbG9ycyA9IHtcbiAgLy8gICBibHVlOiAnIzVmYTZlMScsXG4gIC8vICAgZ29sZDogJyNlN2IxMmUnLFxuICAvLyAgIGdyZWVuOiAnIzNiYTE0NCcsXG4gIC8vICAgb3JhbmdlOiAnI2ZhODIzMicsXG4gIC8vICAgcHVycGxlOiAnIzQyMWY3OSdcbiAgLy8gfVxuICAvL1xuICAvLyBjb25zdCBkYXRhID0gW3tcbiAgLy8gICAgIG5hbWU6ICdMaW5lIG9mIENyZWRpdCcsXG4gIC8vICAgICBpZDogMSxcbiAgLy8gICAgIHF1YW50aXR5OiA3LFxuICAvLyAgICAgdmFsdWU6IDIzMDBcbiAgLy8gICB9LFxuICAvLyAgIHtcbiAgLy8gICAgIG5hbWU6ICdDaGVja2luZycsXG4gIC8vICAgICBpZDogMixcbiAgLy8gICAgIHF1YW50aXR5OiAxNSxcbiAgLy8gICAgIHZhbHVlOiA2OTAwXG4gIC8vICAgfSxcbiAgLy8gICB7XG4gIC8vICAgICBuYW1lOiAnQ0QnLFxuICAvLyAgICAgaWQ6IDMsXG4gIC8vICAgICBxdWFudGl0eTogMTAsXG4gIC8vICAgICB2YWx1ZTogMzAwXG4gIC8vICAgfSxcbiAgLy8gICB7XG4gIC8vICAgICBuYW1lOiAnTG9hbnMnLFxuICAvLyAgICAgaWQ6IDQsXG4gIC8vICAgICBxdWFudGl0eTogNSxcbiAgLy8gICAgIHZhbHVlOiAyMjAwMFxuICAvLyAgIH0sXG4gIC8vICAge1xuICAvLyAgICAgbmFtZTogJ1NhdmluZ3MnLFxuICAvLyAgICAgaWQ6IDUsXG4gIC8vICAgICBxdWFudGl0eTogOCxcbiAgLy8gICAgIHZhbHVlOiAzMDBcbiAgLy8gICB9XG4gIC8vIF07XG4gIC8vXG4gIC8vIGZ1bmN0aW9uIGNyZWF0ZUhvcml6b250YWxCYXJDaGFydCgpIHtcbiAgLy8gICBsZXQgYmFyQ2hhcnQgPSBuZXcgYnJpdGVjaGFydHMuYmFyKCksXG4gIC8vICAgICBtYXJnaW4gPSB7XG4gIC8vICAgICAgIGxlZnQ6IDEyMCxcbiAgLy8gICAgICAgcmlnaHQ6IDIwLFxuICAvLyAgICAgICB0b3A6IDIwLFxuICAvLyAgICAgICBib3R0b206IDMwXG4gIC8vICAgICB9LFxuICAvLyAgICAgYmFyQ29udGFpbmVyID0gZDMuc2VsZWN0KCcuanMtYmFyLWNvbnRhaW5lcicpLFxuICAvLyAgICAgY29udGFpbmVyV2lkdGggPSBiYXJDb250YWluZXIubm9kZSgpID8gYmFyQ29udGFpbmVyLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCA6IGZhbHNlO1xuICAvL1xuICAvLyAgIGJhckNoYXJ0XG4gIC8vICAgICAuaXNIb3Jpem9udGFsKHRydWUpXG4gIC8vICAgICAubWFyZ2luKG1hcmdpbilcbiAgLy8gICAgIC53aWR0aChjb250YWluZXJXaWR0aClcbiAgLy8gICAgIC5jb2xvclNjaGVtYShbY29sb3JzLm9yYW5nZSwgY29sb3JzLnB1cnBsZSwgY29sb3JzLmJsdWUsIGNvbG9ycy5ncmVlbiwgY29sb3JzLmdvbGRdKVxuICAvLyAgICAgLnZhbHVlTGFiZWwoJ3F1YW50aXR5JylcbiAgLy8gICAgIC54VGlja3MoNClcbiAgLy8gICAgIC5oZWlnaHQoMzAwKTtcbiAgLy9cbiAgLy8gICBiYXJDb250YWluZXIuZGF0dW0oZGF0YSkuY2FsbChiYXJDaGFydCk7XG4gIC8vIH1cbiAgLy9cbiAgLy8gZnVuY3Rpb24gY3JlYXRlRG9udXRDaGFydCgpIHtcbiAgLy8gICBsZXQgZG9udXRDaGFydCA9IGJyaXRlY2hhcnRzLmRvbnV0KCk7XG4gIC8vICAgLy8gbGV0IGxlZ2VuZENoYXJ0ID0gZ2V0TGVnZW5kQ2hhcnQoZGF0YSk7XG4gIC8vXG4gIC8vICAgZG9udXRDaGFydFxuICAvLyAgICAgLndpZHRoKDQwMClcbiAgLy8gICAgIC5oZWlnaHQoMzAwKVxuICAvLyAgICAgLmNvbG9yU2NoZW1hKFtjb2xvcnMub3JhbmdlLCBjb2xvcnMucHVycGxlLCBjb2xvcnMuYmx1ZSwgY29sb3JzLmdyZWVuLCBjb2xvcnMuZ29sZF0pXG4gIC8vICAgICAuaXNBbmltYXRlZCh0cnVlKVxuICAvLyAgICAgLmhpZ2hsaWdodFNsaWNlQnlJZCgzKVxuICAvLyAgICAgLm9uKCdjdXN0b21Nb3VzZU92ZXInLCBmdW5jdGlvbihkYXRhKSB7XG4gIC8vICAgICAgIC8vIGxlZ2VuZENoYXJ0LmhpZ2hsaWdodChkYXRhLmRhdGEuaWQpO1xuICAvLyAgICAgfSlcbiAgLy8gICAgIC5vbignY3VzdG9tTW91c2VPdXQnLCBmdW5jdGlvbigpIHtcbiAgLy8gICAgICAgLy8gbGVnZW5kQ2hhcnQuY2xlYXJIaWdobGlnaHQoKTtcbiAgLy8gICAgIH0pXG4gIC8vICAgICAuaW50ZXJuYWxSYWRpdXMoNzApO1xuICAvL1xuICAvLyAgIGQzLnNlbGVjdCgnLmpzLWRvbnV0LWNvbnRhaW5lcicpLmRhdHVtKGRhdGEpLmNhbGwoZG9udXRDaGFydCk7XG4gIC8vXG4gIC8vIH1cbiAgLy9cbiAgLy8gLy8gZnVuY3Rpb24gZ2V0TGVnZW5kQ2hhcnQoZGF0YXNldCwgb3B0aW9uYWxDb2xvclNjaGVtYSkge1xuICAvLyAvLyAgIHZhciBsZWdlbmRDaGFydCA9IGxlZ2VuZCgpLFxuICAvLyAvLyAgICAgbGVnZW5kQ29udGFpbmVyID0gZDNTZWxlY3Rpb24uc2VsZWN0KCcuanMtbGVnZW5kLWNoYXJ0LWNvbnRhaW5lcicpLFxuICAvLyAvLyAgICAgY29udGFpbmVyV2lkdGggPSBsZWdlbmRDb250YWluZXIubm9kZSgpID8gbGVnZW5kQ29udGFpbmVyLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCA6IGZhbHNlO1xuICAvLyAvL1xuICAvLyAvLyAgIGlmIChjb250YWluZXJXaWR0aCkge1xuICAvLyAvLyAgICAgZDNTZWxlY3Rpb24uc2VsZWN0KCcuanMtbGVnZW5kLWNoYXJ0LWNvbnRhaW5lciAuYnJpdGVjaGFydC1sZWdlbmQnKS5yZW1vdmUoKTtcbiAgLy8gLy9cbiAgLy8gLy8gICAgIGxlZ2VuZENoYXJ0XG4gIC8vIC8vICAgICAgIC53aWR0aChjb250YWluZXJXaWR0aCAqIDAuOClcbiAgLy8gLy8gICAgICAgLmhlaWdodCgyMDApXG4gIC8vIC8vICAgICAgIC5udW1iZXJGb3JtYXQoJ3MnKTtcbiAgLy8gLy9cbiAgLy8gLy8gICAgIGlmIChvcHRpb25hbENvbG9yU2NoZW1hKSB7XG4gIC8vIC8vICAgICAgIGxlZ2VuZENoYXJ0LmNvbG9yU2NoZW1hKG9wdGlvbmFsQ29sb3JTY2hlbWEpO1xuICAvLyAvLyAgICAgfVxuICAvLyAvL1xuICAvLyAvLyAgICAgbGVnZW5kQ29udGFpbmVyLmRhdHVtKGRhdGFzZXQpLmNhbGwobGVnZW5kQ2hhcnQpO1xuICAvLyAvL1xuICAvLyAvLyAgICAgcmV0dXJuIGxlZ2VuZENoYXJ0O1xuICAvLyAvLyAgIH1cbiAgLy8gLy8gfVxuICAvL1xuICAvLyBjcmVhdGVIb3Jpem9udGFsQmFyQ2hhcnQoKTtcbiAgLy8gY3JlYXRlRG9udXRDaGFydCgpO1xuXG59XSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcHApIHtcbiAgYXBwLmRpcmVjdGl2ZSgnYmxvZ0JhckNoYXJ0JywgWydkM1NlcnZpY2UnLCAnYnJpdGVjaGFydHNTZXJ2aWNlJywgZnVuY3Rpb24gKGQzU2VydmljZSwgYnJpdGVjaGFydHNTZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgc2NvcGU6IHt9LFxuICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgZDNTZXJ2aWNlLmQzKCkudGhlbihmdW5jdGlvbiAoZDMpIHt9KS50aGVuKGJyaXRlY2hhcnRzU2VydmljZS5icml0ZWNoYXJ0cykudGhlbihmdW5jdGlvbiAoYnJpdGVjaGFydHMpIHtcblxuICAgICAgICAgIHZhciBjb2xvcnMgPSB7XG4gICAgICAgICAgICBibHVlOiAnIzVmYTZlMScsXG4gICAgICAgICAgICBnb2xkOiAnI2U3YjEyZScsXG4gICAgICAgICAgICBncmVlbjogJyMzYmExNDQnLFxuICAgICAgICAgICAgb3JhbmdlOiAnI2ZhODIzMicsXG4gICAgICAgICAgICBwdXJwbGU6ICcjNDIxZjc5J1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgZGF0YSA9IFt7XG4gICAgICAgICAgICBuYW1lOiAnTGluZSBvZiBDcmVkaXQnLFxuICAgICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgICBxdWFudGl0eTogNyxcbiAgICAgICAgICAgIHZhbHVlOiAyMzAwXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgbmFtZTogJ0NoZWNraW5nJyxcbiAgICAgICAgICAgIGlkOiAyLFxuICAgICAgICAgICAgcXVhbnRpdHk6IDE1LFxuICAgICAgICAgICAgdmFsdWU6IDY5MDBcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBuYW1lOiAnQ0QnLFxuICAgICAgICAgICAgaWQ6IDMsXG4gICAgICAgICAgICBxdWFudGl0eTogMTAsXG4gICAgICAgICAgICB2YWx1ZTogMzAwXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgbmFtZTogJ0xvYW5zJyxcbiAgICAgICAgICAgIGlkOiA0LFxuICAgICAgICAgICAgcXVhbnRpdHk6IDUsXG4gICAgICAgICAgICB2YWx1ZTogMjIwMDBcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBuYW1lOiAnU2F2aW5ncycsXG4gICAgICAgICAgICBpZDogNSxcbiAgICAgICAgICAgIHF1YW50aXR5OiA4LFxuICAgICAgICAgICAgdmFsdWU6IDMwMFxuICAgICAgICAgIH1dO1xuXG4gICAgICAgICAgZnVuY3Rpb24gY3JlYXRlSG9yaXpvbnRhbEJhckNoYXJ0KCkge1xuICAgICAgICAgICAgdmFyIGJhckNoYXJ0ID0gbmV3IGJyaXRlY2hhcnRzLmJhcigpLFxuICAgICAgICAgICAgICAgIG1hcmdpbiA9IHtcbiAgICAgICAgICAgICAgbGVmdDogMTIwLFxuICAgICAgICAgICAgICByaWdodDogMjAsXG4gICAgICAgICAgICAgIHRvcDogMjAsXG4gICAgICAgICAgICAgIGJvdHRvbTogMzBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYmFyQ29udGFpbmVyID0gZDMuc2VsZWN0KCcuanMtYmFyLWNvbnRhaW5lcicpLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcldpZHRoID0gYmFyQ29udGFpbmVyLm5vZGUoKSA/IGJhckNvbnRhaW5lci5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggOiBmYWxzZTtcblxuICAgICAgICAgICAgYmFyQ2hhcnQuaXNIb3Jpem9udGFsKHRydWUpLm1hcmdpbihtYXJnaW4pLndpZHRoKGNvbnRhaW5lcldpZHRoKS5jb2xvclNjaGVtYShbY29sb3JzLm9yYW5nZSwgY29sb3JzLnB1cnBsZSwgY29sb3JzLmJsdWUsIGNvbG9ycy5ncmVlbiwgY29sb3JzLmdvbGRdKS52YWx1ZUxhYmVsKCdxdWFudGl0eScpLnhUaWNrcyg0KS5oZWlnaHQoMzAwKTtcblxuICAgICAgICAgICAgYmFyQ29udGFpbmVyLmRhdHVtKGRhdGEpLmNhbGwoYmFyQ2hhcnQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURvbnV0Q2hhcnQoKSB7XG4gICAgICAgICAgICB2YXIgZG9udXRDaGFydCA9IGJyaXRlY2hhcnRzLmRvbnV0KCk7XG4gICAgICAgICAgICAvLyBsZXQgbGVnZW5kQ2hhcnQgPSBnZXRMZWdlbmRDaGFydChkYXRhKTtcblxuICAgICAgICAgICAgZG9udXRDaGFydC53aWR0aCg0MDApLmhlaWdodCgzMDApLmNvbG9yU2NoZW1hKFtjb2xvcnMub3JhbmdlLCBjb2xvcnMucHVycGxlLCBjb2xvcnMuYmx1ZSwgY29sb3JzLmdyZWVuLCBjb2xvcnMuZ29sZF0pLmlzQW5pbWF0ZWQodHJ1ZSkuaGlnaGxpZ2h0U2xpY2VCeUlkKDMpLm9uKCdjdXN0b21Nb3VzZU92ZXInLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAvLyBsZWdlbmRDaGFydC5oaWdobGlnaHQoZGF0YS5kYXRhLmlkKTtcbiAgICAgICAgICAgIH0pLm9uKCdjdXN0b21Nb3VzZU91dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgLy8gbGVnZW5kQ2hhcnQuY2xlYXJIaWdobGlnaHQoKTtcbiAgICAgICAgICAgIH0pLmludGVybmFsUmFkaXVzKDcwKTtcblxuICAgICAgICAgICAgZDMuc2VsZWN0KCcuanMtZG9udXQtY29udGFpbmVyJykuZGF0dW0oZGF0YSkuY2FsbChkb251dENoYXJ0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjcmVhdGVIb3Jpem9udGFsQmFyQ2hhcnQoKTtcbiAgICAgICAgICBjcmVhdGVEb251dENoYXJ0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1dKTtcbn07Il19
